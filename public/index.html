k<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MyFreightTracker PDF Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="app-shell">
    <!-- HEADER -->
    <header class="app-header">
      <div class="brand">
        <img
          src="./myfreighttracker-logo.svg"
          alt="MyFreightTracker logo"
          class="brand-logo"
        />
        <div class="brand-text">
          <div class="brand-line">
            <span class="brand-main">MyFreight</span>
            <span class="brand-accent">Tracker</span>
          </div>
          <div class="app-subtitle">
            PDF tools for brokers, shippers &amp; carriers
          </div>
        </div>
      </div>
      <div class="app-badge">beta</div>
    </header>

    <!-- TOOL TABS -->
    <nav class="tool-switcher">
      <button class="tool-tab tool-tab-active" data-tool-target="pdf-studio">
        PDF Studio
      </button>
      <button class="tool-tab" data-tool-target="invoice">
        Invoice Generator
      </button>
      <button class="tool-tab" data-tool-target="receipt">
        Receipt Generator
      </button>
      <button class="tool-tab" data-tool-target="paystub">
        Paystub Generator
      </button>
      <button class="tool-tab" data-tool-target="word-to-pdf">
        Word → PDF
      </button>
      <button class="tool-tab" data-tool-target="pdf-to-word">
        PDF → Word
      </button>
      <button class="tool-tab" data-tool-target="merge-pdf">
        Merge PDF
      </button>
    </nav>

    <main class="app-main">
      <!-- ================================================================== -->
      <!-- TOOL VIEW: PDF STUDIO (SIGN / ANNOTATE)                            -->
      <!-- ================================================================== -->
      <section class="layout tool-view" data-tool="pdf-studio">
        <!-- LEFT: controls -->
        <aside class="sidebar panel">
          <div class="panel-header">Document details</div>
          <div class="panel-body">
            <div class="field">
              <label class="field-label" for="pdfFile">PDF file</label>
              <input
                id="pdfFile"
                type="file"
                accept="application/pdf"
                class="field-input"
              />
              <p class="field-help">
                Rate cons, BOLs, contracts – anything in PDF.
              </p>
            </div>

            <div class="field">
              <label class="field-label" for="docTitle">Document title</label>
              <input
                id="docTitle"
                type="text"
                class="field-input"
                placeholder="e.g. Load 12345 – Carrier Rate Confirmation"
              />
            </div>

            <div class="field">
              <label class="field-label" for="docNotes">Notes / instructions</label>
              <textarea
                id="docNotes"
                class="field-input field-textarea"
                rows="3"
                placeholder="Optional internal notes."
              ></textarea>
            </div>

            <hr class="section-divider" />

            <div class="field field-inline">
              <div class="field-half">
                <label class="field-label" for="signerName">Signer name</label>
                <input
                  id="signerName"
                  type="text"
                  class="field-input"
                  placeholder="Required"
                />
              </div>
              <div class="field-half">
                <label class="field-label" for="signerTitle">
                  Job title (optional)
                </label>
                <input
                  id="signerTitle"
                  type="text"
                  class="field-input"
                  placeholder="e.g. Dispatcher"
                />
              </div>
            </div>

            <p class="field-help">
              Drag the cursive signature directly on the preview, then apply.
            </p>

            <div class="button-row">
              <button id="applySignatureBtn" class="btn btn-primary" disabled>
                Apply signature
              </button>
              <button id="downloadBtn" class="btn btn-secondary" disabled>
                Download PDF
              </button>
            </div>

            <div id="statusBar" class="status-bar status-info">
              Load a PDF to get started.
            </div>
          </div>
        </aside>

        <!-- RIGHT: viewer -->
        <section class="viewer panel">
          <div class="panel-header">Preview &amp; signature placement</div>
          <div class="panel-body viewer-body">
            <div id="pdfPlaceholder" class="pdf-placeholder">
              <p><strong>No document loaded.</strong></p>
              <p>Choose a PDF on the left to preview and place your signature.</p>
            </div>

            <!-- PDF preview -->
            <iframe
              id="pdfFrame"
              class="pdf-frame"
              title="PDF preview"
            ></iframe>

            <!-- Draggable signature overlay -->
            <div id="signatureOverlay" class="signature-overlay" style="display: none;">
              <div class="signature-card">
                <span id="signatureText" class="signature-text">Signature</span>
                <span class="signature-hint">Drag me</span>
              </div>
            </div>
          </div>
        </section>
      </section>

      <!-- ================================================================== -->
      <!-- TOOL VIEW: INVOICE GENERATOR                                      -->
      <!-- ================================================================== -->
      <section class="layout tool-view" data-tool="invoice" style="display: none;">
        <aside class="sidebar panel">
          <div class="panel-header">Invoice details</div>
          <div class="panel-body">
            <div class="field">
              <label class="field-label" for="invFrom">From (your business)</label>
              <input
                id="invFrom"
                type="text"
                class="field-input"
                placeholder="Leatherneck Trucking LLC"
              />
            </div>

            <div class="field">
              <label class="field-label" for="invTo">Bill to (customer)</label>
              <input
                id="invTo"
                type="text"
                class="field-input"
                placeholder="Customer / broker"
              />
            </div>

            <div class="field">
              <label class="field-label" for="invNumber">Invoice / load #</label>
              <input
                id="invNumber"
                type="text"
                class="field-input"
                placeholder="e.g. Load 12345"
              />
            </div>

            <div class="field">
              <label class="field-label" for="invAmount">Total amount</label>
              <input
                id="invAmount"
                type="number"
                min="0"
                step="0.01"
                class="field-input"
                placeholder="1200.00"
              />
            </div>

            <div class="field">
              <label class="field-label" for="invNotes">Line items / notes</label>
              <textarea
                id="invNotes"
                class="field-input field-textarea"
                rows="4"
                placeholder="Detention, TONU, linehaul, fuel, etc."
              ></textarea>
            </div>

            <div class="button-row">
              <button class="btn btn-primary" disabled>
                Export PDF – $1.49
              </button>
            </div>

            <div class="status-bar status-info">
              Visual only for now – export wiring comes next.
            </div>
          </div>
        </aside>

        <section class="viewer panel">
          <div class="panel-header">Invoice preview</div>
          <div class="panel-body viewer-body">
            <div class="pdf-placeholder">
              <p><strong>Invoice preview mock.</strong></p>
              <p>
                Here we'll render a simple invoice layout using your
                shipper/broker details and totals. Export will generate a PDF.
              </p>
            </div>
          </div>
        </section>
      </section>

      <!-- ================================================================== -->
      <!-- TOOL VIEW: RECEIPT GENERATOR                                      -->
      <!-- ================================================================== -->
      <section class="layout tool-view" data-tool="receipt" style="display: none;">
        <aside class="sidebar panel">
          <div class="panel-header">Receipt details</div>
          <div class="panel-body">
            <div class="field">
              <label class="field-label" for="recFrom">From</label>
              <input
                id="recFrom"
                type="text"
                class="field-input"
                placeholder="Your name / company"
              />
            </div>

            <div class="field">
              <label class="field-label" for="recTo">Received from</label>
              <input
                id="recTo"
                type="text"
                class="field-input"
                placeholder="Customer"
              />
            </div>

            <div class="field">
              <label class="field-label" for="recAmount">Amount</label>
              <input
                id="recAmount"
                type="number"
                min="0"
                step="0.01"
                class="field-input"
                placeholder="75.00"
              />
            </div>

            <div class="field">
              <label class="field-label" for="recReason">For</label>
              <textarea
                id="recReason"
                class="field-input field-textarea"
                rows="3"
                placeholder="Rent, delivery, lumper, etc."
              ></textarea>
            </div>

            <div class="field">
              <label class="field-label" for="recMethod">Payment method</label>
              <select id="recMethod" class="field-input">
                <option>Cash</option>
                <option>Card</option>
                <option>Zelle</option>
                <option>Cash App</option>
                <option>ACH</option>
                <option>Other</option>
              </select>
            </div>

            <div class="button-row">
              <button class="btn btn-primary" disabled>
                Export PDF – $1.49
              </button>
            </div>

            <div class="status-bar status-info">
              Visual only – wiring to /api/receipt/generate comes next.
            </div>
          </div>
        </aside>

        <section class="viewer panel">
          <div class="panel-header">Receipt preview</div>
          <div class="panel-body viewer-body">
            <div class="pdf-placeholder">
              <p><strong>Receipt preview mock.</strong></p>
              <p>
                Final PDF will show "Received from", amount, purpose and payment
                method in a clean trucking-friendly format.
              </p>
            </div>
          </div>
        </section>
      </section>

      <!-- ================================================================== -->
      <!-- TOOL VIEW: PAYSTUB GENERATOR                                      -->
      <!-- ================================================================== -->
      <section class="layout tool-view" data-tool="paystub" style="display: none;">
        <aside class="sidebar panel">
          <div class="panel-header">Paystub details</div>
          <div class="panel-body">
            <div class="field">
              <label class="field-label" for="psEmployee">Employee</label>
              <input
                id="psEmployee"
                type="text"
                class="field-input"
                placeholder="Driver name"
              />
            </div>

            <div class="field">
              <label class="field-label" for="psEmployer">Employer</label>
              <input
                id="psEmployer"
                type="text"
                class="field-input"
                placeholder="Your company"
              />
            </div>

            <div class="field field-inline">
              <div class="field-half">
                <label class="field-label" for="psGross">Gross pay</label>
                <input
                  id="psGross"
                  type="number"
                  min="0"
                  step="0.01"
                  class="field-input"
                  placeholder="1800.00"
                />
              </div>
              <div class="field-half">
                <label class="field-label" for="psDeductions">Deductions</label>
                <input
                  id="psDeductions"
                  type="number"
                  min="0"
                  step="0.01"
                  class="field-input"
                  placeholder="250.00"
                />
              </div>
            </div>

            <div class="field">
              <label class="field-label" for="psPeriod">Pay period</label>
              <input
                id="psPeriod"
                type="text"
                class="field-input"
                placeholder="01/01/2025 – 01/15/2025"
              />
            </div>

            <p class="field-help">
              For business/internal use only – not a replacement for full
              payroll systems.
            </p>

            <div class="button-row">
              <button class="btn btn-primary" disabled>
                Export PDF – $1.49
              </button>
            </div>

            <div class="status-bar status-info">
              Visual only – export wiring will hit /api/paystub/generate.
            </div>
          </div>
        </aside>

        <section class="viewer panel">
          <div class="panel-header">Paystub preview</div>
          <div class="panel-body viewer-body">
            <div class="pdf-placeholder">
              <p><strong>Paystub preview mock.</strong></p>
              <p>
                Net pay, gross, deductions and period will be laid out in a
                simple, driver-friendly PDF.
              </p>
            </div>
          </div>
        </section>
      </section>

      <!-- ================================================================== -->
      <!-- TOOL VIEW: WORD → PDF                                             -->
      <!-- ================================================================== -->
      <section class="layout tool-view" data-tool="word-to-pdf" style="display: none;">
        <aside class="sidebar panel">
          <div class="panel-header">Word → PDF</div>
          <div class="panel-body">
            <div class="field">
              <label class="field-label" for="w2pFile">Word file (.docx)</label>
              <input
                id="w2pFile"
                type="file"
                accept=".doc,.docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                class="field-input"
              />
              <p class="field-help">
                Rate confirmations, contracts or templates exported from Word.
              </p>
            </div>

            <div class="field">
              <label class="field-label" for="w2pTitle">Output filename</label>
              <input
                id="w2pTitle"
                type="text"
                class="field-input"
                placeholder="Optional – otherwise we use the original name"
              />
            </div>

            <div class="button-row">
              <button class="btn btn-primary" disabled>
                Convert to PDF – $1.49
              </button>
            </div>

            <div class="status-bar status-info">
              Once wired, this tool will upload your DOCX to the backend and
              return a clean PDF.
            </div>
          </div>
        </aside>

        <section class="viewer panel">
          <div class="panel-header">Conversion status</div>
          <div class="panel-body viewer-body">
            <div class="pdf-placeholder">
              <p><strong>No file selected.</strong></p>
              <p>
                Choose a Word document on the left. We’ll show status here and
                provide a PDF download link once complete.
              </p>
            </div>
          </div>
        </section>
      </section>

      <!-- ================================================================== -->
      <!-- TOOL VIEW: PDF → WORD                                             -->
      <!-- ================================================================== -->
      <section class="layout tool-view" data-tool="pdf-to-word" style="display: none;">
        <aside class="sidebar panel">
          <div class="panel-header">PDF → Word</div>
          <div class="panel-body">
            <div class="field">
              <label class="field-label" for="p2wFile">PDF file</label>
              <input
                id="p2wFile"
                type="file"
                accept="application/pdf"
                class="field-input"
              />
              <p class="field-help">
                Good for contracts or templates you need to edit in Word.
              </p>
            </div>

            <div class="field">
              <label class="field-label" for="p2wTitle">Output filename</label>
              <input
                id="p2wTitle"
                type="text"
                class="field-input"
                placeholder="Optional – otherwise we use the original name"
              />
            </div>

            <div class="button-row">
              <button class="btn btn-primary" disabled>
                Convert to Word – $1.49
              </button>
            </div>

            <div class="status-bar status-info">
              Visual only – later this calls /api/convert/pdf-to-word and
              returns a DOCX.
            </div>
          </div>
        </aside>

        <section class="viewer panel">
          <div class="panel-header">Conversion status</div>
          <div class="panel-body viewer-body">
            <div class="pdf-placeholder">
              <p><strong>No file selected.</strong></p>
              <p>
                When wired, we’ll show progress and provide a Word download
                link here.
              </p>
            </div>
          </div>
        </section>
      </section>

      <!-- ================================================================== -->
      <!-- TOOL VIEW: MERGE PDF                                              -->
      <!-- ================================================================== -->
      <section class="layout tool-view" data-tool="merge-pdf" style="display: none;">
        <aside class="sidebar panel">
          <div class="panel-header">Merge PDFs</div>
          <div class="panel-body">
            <div class="field">
              <label class="field-label" for="mergeFiles">PDF files</label>
              <input
                id="mergeFiles"
                type="file"
                accept="application/pdf"
                class="field-input"
                multiple
              />
              <p class="field-help">
                Combine rate cons, BOLs and invoices into a single packet.
              </p>
            </div>

            <div class="field">
              <label class="field-label" for="mergeNotes">Notes / order</label>
              <textarea
                id="mergeNotes"
                class="field-input field-textarea"
                rows="3"
                placeholder="Optional: describe order (e.g. rate con first, then BOL, then invoice)"
              ></textarea>
            </div>

            <div class="button-row">
              <button class="btn btn-primary" disabled>
                Merge &amp; export – $1.49
              </button>
            </div>

            <div class="status-bar status-info">
              We’ll eventually show file order and a single merged PDF download
              here.
            </div>
          </div>
        </aside>

        <section class="viewer panel">
          <div class="panel-header">Merge status</div>
          <div class="panel-body viewer-body">
            <div class="pdf-placeholder">
              <p><strong>No files selected.</strong></p>
              <p>
                Upload multiple PDFs on the left. The final merged document
                will be downloadable as a single PDF.
              </p>
            </div>
          </div>
        </section>
      </section>
    </main>

    <footer class="app-footer">
      <span>MyFreightTracker PDF Studio (beta)</span>
      <span class="footer-meta">
        Local-only signing &middot; Not a legal e-signature service &middot; Pay-per-export tools coming soon
      </span>
    </footer>
  </div>

  <!-- TOOL SWITCHER SCRIPT (visual only, no backend calls yet) -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const tabs = document.querySelectorAll(".tool-tab");
      const views = document.querySelectorAll(".tool-view");

      function activateTool(toolId) {
        views.forEach((view) => {
          if (view.dataset.tool === toolId) {
            view.style.display = "flex"; // layout uses flex
          } else {
            view.style.display = "none";
          }
        });

        tabs.forEach((tab) => {
          tab.classList.toggle(
            "tool-tab-active",
            tab.dataset.toolTarget === toolId
          );
        });
      }

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          activateTool(tab.dataset.toolTarget);
        });
      });

      // Default: PDF Studio active
      activateTool("pdf-studio");
    });
  </script>

  <!-- Local pdf-lib served from node_modules via /vendor/pdf-lib -->
  <script src="/vendor/pdf-lib/pdf-lib.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>

